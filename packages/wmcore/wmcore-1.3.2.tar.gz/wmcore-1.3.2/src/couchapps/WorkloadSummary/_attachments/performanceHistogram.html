<html>
  <head>
    <title>Workflow Performance Histogram</title>
    <script src="/_utils/script/json2.js"></script>
    <script src="/_utils/script/jquery.js"></script>
     <script src="/_utils/script/jquery.couch.js"></script>
    <script type="text/javascript" src="vendor/protovis/protovis-r3.2.js"></script>
    <script type="text/javascript" src="js/layout/gridLayout.js"></script>
    <script type="text/javascript" src="js/container/histogram.js"></script>
    <style type="text/css">
    #center {
      display: table-cell;
      vertical-align: middle;
    }
    
    #fig {
      position: relative;
      margin: auto;
      width: 800px;
      height: 200px;
    }
    </style>
  </head>
  <body>
       <div id="center">
           <div id="fig">
               <script>
                   couchDB = $.couch.db("workloadSummary"); // change to correct db name
                   couchDB.view("WorkloadSummary/performanceDataByCampaign",{
                            //key: "test",
                            success : function(data){
                                var histDataArray = convertToHistogramData(data);
                                for (var i in histDataArray) {
                                    //TODO: make a multiple historgram displayed
                                    // using nested grid
                                    //var config = {width: 300, height:100};
                                    //histogramContainer(config, histDataArray[i].histoData, i)
                                    //break;
                                }
                            }
                           });
               </script>
           </div>
       </div>
  </body>
</html>