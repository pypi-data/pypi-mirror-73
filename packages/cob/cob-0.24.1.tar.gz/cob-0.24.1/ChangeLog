CHANGES
=======

0.24.1
------

* Changelog
* Use dockerize and wait for db to be ready before running test

0.24.0
------

* Changelog
* issue-146-1 remove unnecessary attrs
* issue-146-1 cob docker test support overlay compose files
* issue-148 support docker testing specific configuration
* use env var to build flask app is in testing mode
* support passing pytest args to cob docker test

0.23.1
------

* Update changelog
* issue-139: Fix issue with new postgres images requiring password on startup (see https://github.com/docker-library/postgres/commit/42ce7437ee68150ee29f5272428aa4fc657dc6dc)

0.23.0
------

* Add disable unused argument
* Add pytest hook that builds app This solves the problem of having to put the imports inside the test functions
* Add documentation on how to test specific modules
* Fix ProxyFix import see https://werkzeug.palletsprojects.com/en/0.15.x/contrib/fixers/
* Remove DOCKER\_HOST variable
* Update changelog
* Adding docker compose override files to cob docker deploy (fixes #122)

0.22.0
------

* Update changelog
* Fix pip requirements for documentaion
* Improve readablity of configuration.rst
* issue-125 bugfix move get\_project into function (#126)
* Improve environment/config customization (#121)
* Use a newer PyAML version (fixes #116)
* Update usage of docker in Travis-CI (fixes #118)
* Add automatic documentation for commands

0.21.4
------

* Pin tmuxp to a <2.0
* Changelog
* Fix Click dependency (closes #113)

0.21.3
------

* Move to use yaspin

0.21.2
------

* Changelog
* Allow passing pypi index url via cob-project.yml (closes #109)

0.21.1
------

* Changelog

0.21.0
------

* Add -H parameter to cob testserver

0.20.0
------

* changelog
* Make node versions configurable, default to 8 (closes #105)
* Restrict click to <7

0.19.8
------

* Fix missing import
* Use LoggingHandler in Celery worker to emit logs from workers
* Avoid setting up database if project doesn't have models
* Clean up containers on docker test end (closes #104)
* move halo import so that pudb will stay colorful
* Fix location of mergify config
* Add mergify configuration
* move halo import so that pudb will stay colorful

0.19.7
------

* Changelog
* Add --no-cache to cob docker test

0.19.6
------

* Avoid rsync if building image as a part of cob docker test

0.19.5
------

* Fix pylint errors

0.19.4
------

* Run migrations on cob docker test (closes #101)

0.19.3
------

* Add IPython as a dependency

0.19.2
------

* Pin pylint dependency

0.19.1
------

* Changelog
* Add debug log output to \`cob testserver\`

0.19.0
------

* Changelog
* Support \`cob shell\` (closes #97)
* Fix deployment
* Add cob docker push and cob docker tag-latest (closes #94)
* Document prerequisites (closes #93)
* Pin celery dependency to 4.1.x (closes #96)
* Remove commented-out code
* Document dependency configuration
* Use journald when available in docker deployments (closes #92)

0.18.5
------

* Fix error formatting when docker could not be located
* Changelog
* Add docker.exposed\_ports configuration (closes #90)
* Support additional docker-compose files in "docker run-image" with "-o" (closes #88)
* Fixed changelog

0.18.4
------

* Changelog
* Add logging to syslog by default
* Add --force to cob docker deploy (closes #89)

0.18.3
------

* Changelog
* Add "cob version" command (closes #87)
* Changelog
* Fix escaping of image names

0.18.2
------

* Changelog
* Fix escaping of image names
* Fix travis badge in README
* Pin PyYaml to 3.x
* Changelog
* Mount /etc/localtime to containers (closes #84)
* Support cases in which conf.d is a symlink (closes #85)

0.18.1
------

* Changelog
* Add docker.image\_name project configuration (closes #83)
* Change default build image to Python3.6-jessie
* cob docker test now uses <project name>:dev image name by default
* Use port 80 in cob docker deploy
* Support \`cob docker deploy\` command (closes #51)
* Changelog

0.17.1
------

* Fix typo in cob migrate down
* Support cob docker run-image (closes #82)
* Tidy up docker command names
* Fix COB\_DEVELOP passing in Dockerfile
* basics test project - add configuration-dumping route
* Consolidate docker command formatting (closes #78)
* Remove unused imports
* Use f-strings
* Require Python 3.6
* Add docker ps -a output after travis failure
* Support "cob docker test" (closes #50)
* Improve error message for unknown subsystems in grains
* Fix sdist filename handling during docker\_build
* Parallelize Travis builds
* Fix project names
* Allow python-pip to not exist in Travis builds
* Prebuild docker images in Travis
* Report hint of current location in "not in current project" errors
* Accept queue\_names as a comma-separated string
* Support providing additional arguments to celery workers through additional\_args
* Ignore pytest cache
* Support multiple configuration overlays (closes #27)
* Fix recursive merge of config
* Add documentation for tasks (closes #41)
* Support --image-name in cob docker commands
* Fix --build parameter to "cob docker run"
* Clean .cob directory when building docker images
* Support redis (closes #67)
* Rename tutorial section to "getting started"
* cob bootstrap now fails if no .cob-project.yml exists in the current directory (closes #72)
* Output stderr on failures (closes #73)
* Avoid pip installation for project with no dependencies
* Pin Ubuntu base image to 16.04
* Update .gitignore skeleton
* Color cob exceptions red (closes #35)
* Fix docs
* Improve DB documentation

0.17.0
------

* Allow passing Celery configuration under the project's config
* Fix setup.cfg description

0.16.0
------

* Fix flask handling of frontend pages (closes #61)
* Tests: fail if docker build fails
* Use newer docker version in Travis
* Add debug logs to cob docker build
* Print docker image list after failure
* Increase timeout for server availability
* Fix handling of wildcard frontend app in cob develop (closes #65)
* Add test for ember sub-routes
* Fix static files handling during develop mode
* Use multi-stage docker builds (closes #21)
* Move test project directory out of tests/
* Fix pylint errors
* Run pylint first in Travis
* Fix tests
* Kill testing process with sudo if needed
* Fix docker bootstrapping
* Add prompt to docker sudo requests
* Add tests for Ember apps not installed as root resource grains

0.15.0
------

* Changelog
* Add note explaining how to work with Ember frontend grains (closes #59)
* Run \`npm install\` as a part of frontend grain generation (closes #60)
* Support running docker with sudo (fix #47)
* Override flask configuration when running 'cob testserver' (fix #55)
* Raise MissingDependency when docker-compose is missing (fix #48)
* Support running docker in detach mode (fix #49)
* Keep skeletons new-line in the end of the file
* Minor documentation fixes

0.14.2
------

* Update deadsnakes PPA name
* Document postgres usage during development (closes #46)

0.14.1
------

* Cob CLI: rename modules to avoid import collisions
* Document COB\_FORCE\_CURRENT\_INTERPRETER variable

0.14.0
------

* Changelog
* Support specifying the cob version to use via the \`COB\_VERSION\` environment variable (closes #44)
* Add COB\_INDEX\_URL environment variable to make cob install itself from a specific index (closes #42)
* Add support for arbitrary command-line arguments to celery start-worker (fix #43)
* Changelog
* Refactor celery task decorator
* Fix use\_app\_context flag to celery tasks (#40)
* empty commit
* Bump pbr version
* Sem-Ver: feature - empty commit for advancing version
* Add use\_app\_context (default false) to cob.task (closes #40)
* Add environment variable for forcing --pre when installing cob (closes #39)
* Fix documentation typo (closes #37)
* Fix wrong log message

0.13.3
------

* Fix import order issues with Celery

0.13.2
------

* Properly bootstrap project on docker celery workers

0.13.1
------

* Fix import order issue

0.13
----

* Fix docker running in non-develop mode
* Allow specifying Gunicorn options in the project's YAML file (closes #29)
* add celery backend for keeping and manipulating results
* Propagate Flask exceptions to gunicorn on deployment (closes #31)
* Fix Celery waiting to be before the worker is booted
* fixup! Wait for app services before starting Celery Workers (closes #34)
* Wait for app services before starting Celery Workers (closes #34)
* Add ProxyFix middleware for Flask app (closes #32)
* Refactor static location mechanism, properly sort URL rules when building nginx configurations
* Move docker install steps to subsystem methods
* Make COB\_DATABASE\_URI environment variable override existing settings
* Fix waiting for services in docker start
* Fail explicitly for conflicting mountpoint settings (fix #16)
* fix pylint warning
* Set up secret config in a persistent way, generate server secrets on startup (fix #22)
* Support COB\_CONFIG\_DIRECTORY for loading config files externally
* Fix grain type logging typo
* SQLALCHEMY\_TRACK\_MODIFICATIONS now disabled by default (fix #23)

0.0.12
------

* Fix license specifier

0.0.11
------

* Move to pbr for packaging
* docs
* Remove 3.6 (pylint broken)
* Pylint fixes
* Add python 3.6 to travis
* Remove erroneous \_\_init\_\_ file
* Improve cob develop with tasks
* Support periodic tasks
* Fix tasks grain template
* Gather task queue names from registered tasks
* Allow accessing subsystems by name through getattr
* Simplify tasks configuration
* Basic tasks working on worker properly
* Simplify develop mode for celery projects

0.0.10
------

* Bump version
* Add unit test documentation
* Unittest improvements: add data\_json argument to webapp fixture methods
* Require pytest as a part of Cob
* Add pytest plugin
* DB is not volatile by default
* Fix usage error display on \`cob generate\`
* Cob tutorial in documentation
* Fix pylint issues
* Fix model unit test

0.0.9
-----

* Bump version
* Change import name in deps test

0.0.8
-----

* Bump version

0.0.7
-----

* Bump version
* fix testserver auto reload on code change
* correcting a typo where --type should get templates and not template as grain type
* Fix test fixture
* Enable debug mode by default in testserver
* ignore hiden files and non python files in cob project root
* Fix pylint error
* Cob migrate: warn if no tables are loaded
* Explicitly fail if trying to create an app while already initializing an app

0.0.6
-----

* Bump version
* Fix bootstrapping issue

0.0.5
-----

* Ensure project bootstrapped in migration commands (fix #8)
* Bump version
* Typo fix
* Add support for project.py, after\_app\_configure hook
* Modify default .gitignore
* Typo fix
* Docs

0.0.4
-----

* bump version
* Fix packaging

0.0.3
-----

* v0.0.3
* Add skeletons to sdist package

0.0.2
-----

* v0.0.2
* Pypi deployment

0.0.1
-----

* v0.0.1
* Docs
* Documentation
* Fix travis tests
* More logs
