
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>pydda.retrieval.get_dd_wind_field_nested &#8212; PyDDA 0.5.1 documentation</title>
    <link rel="stylesheet" href="../../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/gallery-dataframe.css" />
    
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script async="async" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="pydda.retrieval.get_bca" href="pydda.retrieval.get_bca.html" />
    <link rel="prev" title="pydda.retrieval.get_dd_wind_field" href="pydda.retrieval.get_dd_wind_field.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pydda.retrieval.get_bca.html" title="pydda.retrieval.get_bca"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="pydda.retrieval.get_dd_wind_field.html" title="pydda.retrieval.get_dd_wind_field"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">PyDDA 0.5.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" accesskey="U">Developer Reference Manual</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">pydda.retrieval.get_dd_wind_field_nested</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="pydda-retrieval-get-dd-wind-field-nested">
<h1>pydda.retrieval.get_dd_wind_field_nested<a class="headerlink" href="#pydda-retrieval-get-dd-wind-field-nested" title="Permalink to this headline">¶</a></h1>
<dl class="py function">
<dt id="pydda.retrieval.get_dd_wind_field_nested">
<code class="sig-prename descclassname">pydda.retrieval.</code><code class="sig-name descname">get_dd_wind_field_nested</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">grid_list</span></em>, <em class="sig-param"><span class="n">u_init</span></em>, <em class="sig-param"><span class="n">v_init</span></em>, <em class="sig-param"><span class="n">w_init</span></em>, <em class="sig-param"><span class="n">client</span></em>, <em class="sig-param"><span class="n">reduction_factor</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="n">num_splits</span><span class="o">=</span><span class="default_value">2</span></em>, <em class="sig-param"><span class="o">**</span><span class="n">kwargs</span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/pydda/retrieval/nesting.html#get_dd_wind_field_nested"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pydda.retrieval.get_dd_wind_field_nested" title="Permalink to this definition">¶</a></dt>
<dd><p>This function performs a wind retrieval using a nested domain.
This is useful for grids that are larger than about 500 by 500
by 40 points, since the use of larger grids on a single machine
will exceed memory limitations.</p>
<p>This procedure relies on a dask distributed cluster to be set up.
The retrieval is first performed at a resolution that is coarser
than the analysis grid by reduction_factor. This provides the
initial state for the nested loop.</p>
<p>The domain is split into num_splits**2 sub-domains for the nested
retrieval step, and each nested retrieval is mapped onto a distributed
worker for parallel processing. If NumPy and SciPy are already set up to
use parallel numerical analysis libraries, it is recommended that a single
machine be dedicated to each nest rather than a single core
for best performance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><dl class="simple">
<dt><strong>grid_list: list</strong></dt><dd><p>A list of Py-ART grids for each radar to use in the retrieval.</p>
</dd>
<dt><strong>u_init: 3D NumPy array</strong></dt><dd><p>The initial guess of the zonal wind field. This has to be in the same
shape as the analysis grid.</p>
</dd>
<dt><strong>v_init: 3D NumPy array</strong></dt><dd><p>The initial guess of the meridional wind field. This has to be in the
same shape as the analysis grid.</p>
</dd>
<dt><strong>w_init: 3D NumPy array</strong></dt><dd><p>The initial guess of the vertical wind field. This has to be in the same
shape as the analysis grid.</p>
</dd>
<dt><strong>client: dask distributed Client</strong></dt><dd><p>The distributed Client that is linked to a distributed cluster. The
:cluster must be running before get_dd_wind_field_nested is called.
The retrieval on each nest will be mapped onto each worker. Since
the optimization loop already takes advantage of parallelism, it’s
best to allow at least 16 cores per one worker.</p>
</dd>
<dt><strong>reduction_factor: int</strong></dt><dd><p>How much to reduce the factor of the analysis grid by when doing the
initial retrieval on the entire grid.</p>
</dd>
<dt><strong>num_splits: int</strong></dt><dd><p>The number of splits to make through each axis when doing the nesting.</p>
</dd>
<dt><strong>**kwargs: dict</strong></dt><dd><p>This function will take the same keyword arguments as
get_dd_wind_field, as these arguments are passed into each call of
get_dd_wind_field. See get_dd_wind_field for more information on the</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h4>Previous topic</h4>
  <p class="topless"><a href="pydda.retrieval.get_dd_wind_field.html"
                        title="previous chapter">pydda.retrieval.get_dd_wind_field</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="pydda.retrieval.get_bca.html"
                        title="next chapter">pydda.retrieval.get_bca</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/dev_reference/generated/pydda.retrieval.get_dd_wind_field_nested.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="pydda.retrieval.get_bca.html" title="pydda.retrieval.get_bca"
             >next</a> |</li>
        <li class="right" >
          <a href="pydda.retrieval.get_dd_wind_field.html" title="pydda.retrieval.get_dd_wind_field"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../index.html">PyDDA 0.5.1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../index.html" >Developer Reference Manual</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">pydda.retrieval.get_dd_wind_field_nested</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, PyDDA Developers.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.1.2.
    </div>
  </body>
</html>