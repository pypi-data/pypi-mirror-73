

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>greydot.b2c &mdash; greydot-api 1.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> greydot-api
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../api.html">API Reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">greydot-api</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">Module code</a> &raquo;</li>
        
      <li>greydot.b2c</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <h1>Source code for greydot.b2c</h1><div class="highlight"><pre>
<span></span><span class="sd">&quot;&quot;&quot;</span>

<span class="sd">This function allows you to transfer from your wallet to other identities. If you enable notify by email, you will receive an email every time the url is called with your APP Key.</span>

<span class="sd">URL :</span>
<span class="sd">https://greydotapi.me/?par2=[Amount]&amp;par1=[Send to Identity]&amp;k=[APP Key]&amp;do=[FID]</span>

<span class="sd">[Amount] is the amount to send</span>
<span class="sd">[Send to Identity] the identity that will recieve the digits</span>
<span class="sd">[APP Key] Your APP Key</span>
<span class="sd">[FID]The function ID for Wallet transfer is 2</span>

<span class="sd">Example url :</span>
<span class="sd">https://greydotapi.me/?par2=1&amp;par1=25911000000&amp;k=abcdefghijklmnopqrst&amp;do=2</span>

<span class="sd">Example reply :</span>

<span class="sd">    {</span>
<span class="sd">        &quot;query&quot;: {</span>
<span class="sd">            &quot;query_result&quot;: {</span>
<span class="sd">                &quot;status&quot;: &quot;Success&quot;,</span>
<span class="sd">                &quot;function&quot;: &quot;Wallet transfer&quot;,</span>
<span class="sd">                &quot;amount&quot;: &quot;1&quot;,</span>
<span class="sd">                &quot;to&quot;: &quot;25911000000&quot;</span>
<span class="sd">            },</span>
<span class="sd">            &quot;query_status&quot;: &quot;DONE&quot;,</span>
<span class="sd">            &quot;query_code&quot;: &quot;D0002&quot;</span>
<span class="sd">        }</span>
<span class="sd">    }</span>

<span class="sd">&quot;&quot;&quot;</span>
<span class="kn">from</span> <span class="nn">sms</span> <span class="k">import</span> <span class="n">GREYDOT_APP_KEY</span><span class="p">,</span> <span class="n">API_URL</span><span class="p">,</span> <span class="n">parse_xml_response</span>
<span class="kn">import</span> <span class="nn">requests</span>
<span class="kn">import</span> <span class="nn">urllib.parse</span>

<span class="n">FID</span> <span class="o">=</span> <span class="mi">2</span>
<span class="n">SAMPLE</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;</span>
<span class="s2">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot; ?&gt;</span>
<span class="s2">&lt;query&gt;</span>
<span class="s2">    &lt;query_result&gt;</span>
<span class="s2">        &lt;status&gt;Success&lt;/status&gt;</span>
<span class="s2">        &lt;function&gt;Wallet transfer&lt;/function&gt;</span>
<span class="s2">        &lt;amount&gt;1&lt;/amount&gt;</span>
<span class="s2">        &lt;to&gt;25911000000&lt;/to&gt;</span>
<span class="s2">    &lt;/query_result&gt;</span>
<span class="s2">    &lt;query_status&gt;DONE&lt;/query_status&gt;</span>
<span class="s2">    &lt;query_code&gt;D0002&lt;/query_code&gt;</span>
<span class="s2">&lt;/query&gt;</span>
<span class="s2">&quot;&quot;&quot;</span>


<div class="viewcode-block" id="send_money"><a class="viewcode-back" href="../../api.html#greydot.b2c.send_money">[docs]</a><span class="k">def</span> <span class="nf">send_money</span><span class="p">(</span><span class="n">Amount</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">To</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="p">):</span>
    <span class="n">params</span> <span class="o">=</span> <span class="p">{</span>
        <span class="s2">&quot;par1&quot;</span><span class="p">:</span> <span class="n">To</span><span class="p">,</span>
        <span class="s2">&quot;par2&quot;</span><span class="p">:</span> <span class="n">Amount</span><span class="p">,</span>
        <span class="s2">&quot;k&quot;</span><span class="p">:</span> <span class="n">GREYDOT_APP_KEY</span><span class="p">,</span>
        <span class="s2">&quot;do&quot;</span><span class="p">:</span> <span class="n">FID</span><span class="p">,</span>
    <span class="p">}</span>
    <span class="n">encoded_params</span> <span class="o">=</span> <span class="n">urllib</span><span class="o">.</span><span class="n">parse</span><span class="o">.</span><span class="n">urlencode</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
    <span class="n">response</span> <span class="o">=</span> <span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">API_URL</span><span class="p">,</span> <span class="n">params</span><span class="o">=</span><span class="n">encoded_params</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">url</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">parse_xml_response</span><span class="p">(</span><span class="n">response</span><span class="o">.</span><span class="n">text</span><span class="p">)</span></div>
</pre></div>

           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2020, Tralah M Brian

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>