import{S as a,a as l,s,P as t,a7 as c,G as n,j as e,O as r,A as o,B as i,g as u,e as f,b as h,t as m,u as d,c as p,d as v,f as g,l as $,v as b,h as k,w as E,k as y,x as w,n as x,r as D,o as I,U as P,D as V,C as N,J as T,a4 as A,K as C,X as O,a8 as B,m as M,N as S,a9 as U,aa as L,ab as j,Z as R,i as q,ac as H,ad as F,ae as G,af as J,ag as K,_ as X,R as Z,ah as _,ai as z,aj as Q,ak as W}from"./client.ddd82919.js";function Y(a){let l,s,t,c={ctx:a,current:null,token:null,pending:ca,then:la,catch:aa,value:10,error:11,blocks:[,,,]};return r(s=a[2],c),{c(){l=n(),c.block.c()},l(a){l=n(),c.block.l(a)},m(a,s){e(a,l,s),c.block.m(a,c.anchor=s),c.mount=(()=>l.parentNode),c.anchor=l,t=!0},p(l,t){if(a=l,c.ctx=a,4&t&&s!==(s=a[2])&&r(s,c));else{const l=a.slice();l[10]=c.resolved,c.block.p(l,t)}},i(a){t||(o(c.block),t=!0)},o(a){for(let a=0;a<3;a+=1){const l=c.blocks[a];i(l)}t=!1},d(a){a&&u(l),c.block.d(a),c.token=null,c=null}}}function aa(a){let l,s=a[11].message+"";return{c(){l=m(s)},l(a){l=$(a,s)},m(a,s){e(a,l,s)},p(a,t){4&t&&s!==(s=a[11].message+"")&&M(l,s)},i:S,o:S,d(a){a&&u(l)}}}function la(a){let l,s,t,c;const r=[ta,sa],f=[];function h(a,l){return a[10]?0:1}return l=h(a),s=f[l]=r[l](a),{c(){s.c(),t=n()},l(a){s.l(a),t=n()},m(a,s){f[l].m(a,s),e(a,t,s),c=!0},p(a,c){let n=l;(l=h(a))===n?f[l].p(a,c):(P(),i(f[n],1,1,()=>{f[n]=null}),V(),(s=f[l])||(s=f[l]=r[l](a)).c(),o(s,1),s.m(t.parentNode,t))},i(a){c||(o(s),c=!0)},o(a){i(s),c=!1},d(a){f[l].d(a),a&&u(t)}}}function sa(a){let l;return{c(){l=m("Error")},l(a){l=$(a,"Error")},m(a,s){e(a,l,s)},p:S,i:S,o:S,d(a){a&&u(l)}}}function ta(a){let l,s;const c=new t({props:{icon:L,class:"icon"}});return{c(){l=f("button"),d(c.$$.fragment),this.h()},l(a){l=p(a,"BUTTON",{class:!0});var s=v(l);b(c.$$.fragment,s),s.forEach(u),this.h()},h(){k(l,"class","button svelte-vctgx4")},m(a,t){e(a,l,t),w(c,l,null),s=!0},p:S,i(a){s||(o(c.$$.fragment,a),s=!0)},o(a){i(c.$$.fragment,a),s=!1},d(a){a&&u(l),N(c)}}}function ca(a){let l,s;const c=new t({props:{icon:U,spin:!0,class:"icon"}});return{c(){l=f("button"),d(c.$$.fragment),this.h()},l(a){l=p(a,"BUTTON",{class:!0});var s=v(l);b(c.$$.fragment,s),s.forEach(u),this.h()},h(){k(l,"class","button svelte-vctgx4")},m(a,t){e(a,l,t),w(c,l,null),s=!0},p:S,i(a){s||(o(c.$$.fragment,a),s=!0)},o(a){i(c.$$.fragment,a),s=!1},d(a){a&&u(l),N(c)}}}function na(a){let l,s,n,r,T,A,C,O,B,M,S,U,L,j,R,q,H,F,G,J,K,X,Z,_,z;const Q=new t({props:{icon:c,class:"icon"}});let W=a[2]&&Y(a);return{c(){l=f("div"),s=f("div"),n=h(),r=f("div"),T=f("header"),A=f("p"),C=m("Create playlist"),O=h(),B=f("a"),d(Q.$$.fragment),S=h(),U=f("section"),L=f("label"),j=m("Name"),R=h(),q=f("input"),H=h(),F=f("footer"),G=f("button"),J=m("Save changes"),K=h(),W&&W.c(),X=h(),Z=f("button"),this.h()},l(a){l=p(a,"DIV",{class:!0});var t=v(l);s=p(t,"DIV",{class:!0}),v(s).forEach(u),n=g(t),r=p(t,"DIV",{class:!0});var c=v(r);T=p(c,"HEADER",{class:!0});var e=v(T);A=p(e,"P",{class:!0});var o=v(A);C=$(o,"Create playlist"),o.forEach(u),O=g(e),B=p(e,"A",{href:!0,"aria-label":!0});var i=v(B);b(Q.$$.fragment,i),i.forEach(u),e.forEach(u),S=g(c),U=p(c,"SECTION",{class:!0});var f=v(U);L=p(f,"LABEL",{class:!0});var h=v(L);j=$(h,"Name"),h.forEach(u),R=g(f),q=p(f,"INPUT",{class:!0,type:!0,name:!0,id:!0}),f.forEach(u),H=g(c),F=p(c,"FOOTER",{class:!0});var m=v(F);G=p(m,"BUTTON",{class:!0});var d=v(G);J=$(d,"Save changes"),d.forEach(u),K=g(m),W&&W.l(m),m.forEach(u),c.forEach(u),X=g(t),Z=p(t,"BUTTON",{class:!0,"aria-label":!0}),v(Z).forEach(u),t.forEach(u),this.h()},h(){k(s,"class","modal-background svelte-vctgx4"),k(A,"class","modal-card-title svelte-vctgx4"),k(B,"href",M=null),k(B,"aria-label","close"),k(T,"class","modal-card-head svelte-vctgx4"),k(L,"class","label"),k(q,"class","input svelte-vctgx4"),k(q,"type","text"),k(q,"name","playlist name"),k(q,"id","playlist name"),k(U,"class","modal-card-body svelte-vctgx4"),k(G,"class","button is-success svelte-vctgx4"),k(F,"class","modal-card-foot svelte-vctgx4"),k(r,"class","modal-card svelte-vctgx4"),k(Z,"class","modal-close is-large svelte-vctgx4"),k(Z,"aria-label","close"),k(l,"class","modal svelte-vctgx4"),E(l,"is-active",a[0])},m(t,c,o){e(t,l,c),y(l,s),y(l,n),y(l,r),y(r,T),y(T,A),y(A,C),y(T,O),y(T,B),w(Q,B,null),y(r,S),y(r,U),y(U,L),y(L,j),y(U,R),y(U,q),x(q,a[1]),y(r,H),y(r,F),y(F,G),y(G,J),y(F,K),W&&W.m(F,null),y(l,X),y(l,Z),_=!0,o&&D(z),z=[I(s,"click",a[6]),I(B,"click",a[7]),I(q,"input",a[8]),I(G,"click",a[3]),I(Z,"click",a[9])]},p(a,[s]){2&s&&q.value!==a[1]&&x(q,a[1]),a[2]?W?(W.p(a,s),o(W,1)):((W=Y(a)).c(),o(W,1),W.m(F,null)):W&&(P(),i(W,1,1,()=>{W=null}),V()),1&s&&E(l,"is-active",a[0])},i(a){_||(o(Q.$$.fragment,a),o(W),_=!0)},o(a){i(Q.$$.fragment,a),i(W),_=!1},d(a){a&&u(l),N(Q),W&&W.d(),D(z)}}}function ea(a,l,s){let t;T(a,A,a=>s(4,t=a));let c,n="",{showCreatePlaylistModal:e}=l;C(async()=>{O(A,t=await B())});const r=async()=>{return!!await t.playlists.create({name:n})&&(setTimeout(()=>{s(0,e=!e)},1500),!0)};return a.$set=(a=>{"showCreatePlaylistModal"in a&&s(0,e=a.showCreatePlaylistModal)}),[e,n,c,()=>{s(2,c=r())},t,r,()=>s(0,e=!e),()=>s(0,e=!e),function(){n=this.value,s(1,n)},()=>s(0,e=!e)]}class ra extends a{constructor(a){super(),l(this,a,ea,na,s,{showCreatePlaylistModal:0})}}function oa(a,l,s){const t=a.slice();return t[8]=l[s],t[10]=s,t}function ia(a){let l,s,t,c={ctx:a,current:null,token:null,pending:ga,then:fa,catch:ua,value:6,error:7,blocks:[,,,]};return r(s=a[0],c),{c(){l=n(),c.block.c()},l(a){l=n(),c.block.l(a)},m(a,s){e(a,l,s),c.block.m(a,c.anchor=s),c.mount=(()=>l.parentNode),c.anchor=l,t=!0},p(l,t){if(a=l,c.ctx=a,1&t&&s!==(s=a[0])&&r(s,c));else{const l=a.slice();l[6]=c.resolved,c.block.p(l,t)}},i(a){t||(o(c.block),t=!0)},o(a){for(let a=0;a<3;a+=1){const l=c.blocks[a];i(l)}t=!1},d(a){a&&u(l),c.block.d(a),c.token=null,c=null}}}function ua(a){let l,s,t=a[7].message+"";return{c(){l=f("p"),s=m(t),this.h()},l(a){l=p(a,"P",{class:!0,style:!0});var c=v(l);s=$(c,t),c.forEach(u),this.h()},h(){k(l,"class","list-item"),R(l,"color","red")},m(a,t){e(a,l,t),y(l,s)},p(a,l){1&l&&t!==(t=a[7].message+"")&&M(s,t)},i:S,o:S,d(a){a&&u(l)}}}function fa(a){let l,s,t=a[2],c=[];for(let l=0;l<t.length;l+=1)c[l]=va(oa(a,t,l));const r=a=>i(c[a],1,1,()=>{c[a]=null});let f=null;return t.length||(f=ha()),{c(){for(let a=0;a<c.length;a+=1)c[a].c();l=n(),f&&f.c()},l(a){for(let l=0;l<c.length;l+=1)c[l].l(a);l=n(),f&&f.l(a)},m(a,t){for(let l=0;l<c.length;l+=1)c[l].m(a,t);e(a,l,t),f&&f.m(a,t),s=!0},p(a,s){if(4&s){let n;for(t=a[2],n=0;n<t.length;n+=1){const e=oa(a,t,n);c[n]?(c[n].p(e,s),o(c[n],1)):(c[n]=va(e),c[n].c(),o(c[n],1),c[n].m(l.parentNode,l))}for(P(),n=t.length;n<c.length;n+=1)r(n);V(),t.length?f&&(f.d(1),f=null):f||((f=ha()).c(),f.m(l.parentNode,l))}},i(a){if(!s){for(let a=0;a<t.length;a+=1)o(c[a]);s=!0}},o(a){c=c.filter(Boolean);for(let a=0;a<c.length;a+=1)i(c[a]);s=!1},d(a){K(c,a),a&&u(l),f&&f.d(a)}}}function ha(a){let l,s,t,c;return{c(){l=f("div"),s=f("p"),t=m("loading"),c=h(),this.h()},l(a){l=p(a,"DIV",{class:!0});var n=v(l);s=p(n,"P",{});var e=v(s);t=$(e,"loading"),e.forEach(u),c=g(n),n.forEach(u),this.h()},h(){k(l,"class","list-item")},m(a,n){e(a,l,n),y(l,s),y(s,t),y(l,c)},d(a){a&&u(l)}}}function ma(a){let l,s=a[7].message+"";return{c(){l=m(s)},l(a){l=$(a,s)},m(a,s){e(a,l,s)},p(a,t){4&t&&s!==(s=a[7].message+"")&&M(l,s)},d(a){a&&u(l)}}}function da(a){let l,s,t,c=(a[11].tracks?a[11].tracks.length:"0")+"";return{c(){l=m("("),s=m(c),t=m(")")},l(a){l=$(a,"("),s=$(a,c),t=$(a,")")},m(a,c){e(a,l,c),e(a,s,c),e(a,t,c)},p(a,l){4&l&&c!==(c=(a[11].tracks?a[11].tracks.length:"0")+"")&&M(s,c)},d(a){a&&u(l),a&&u(s),a&&u(t)}}}function pa(a){let l;return{c(){l=m("loading..")},l(a){l=$(a,"loading..")},m(a,s){e(a,l,s)},p:S,d(a){a&&u(l)}}}function va(a){let l,s,c,n,x,P,V,T,A,C,O,B,S,U,L,j,R,K,Q,W,Y,aa,la,sa,ta,ca,na,ea,ra,oa=a[8].name+"",ia={ctx:a,current:null,token:null,pending:pa,then:da,catch:ma,value:11,error:7};r(T=J(a[8].uri),ia);const ua=new t({props:{icon:X,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});function fa(...l){return a[5](a[8],...l)}const ha=new t({props:{icon:Z,class:"icon is-small"}}),va=new t({props:{icon:_,class:"icon is-small"}}),ga=new t({props:{icon:z,class:"icon is-small"}});return{c(){l=f("div"),s=f("div"),c=f("a"),n=m(oa),P=h(),V=f("div"),ia.block.c(),A=h(),C=f("div"),O=f("div"),B=f("div"),d(ua.$$.fragment),S=h(),U=f("div"),L=f("div"),j=f("a"),d(ha.$$.fragment),R=m(" \n                        Play"),Q=h(),W=f("a"),d(va.$$.fragment),Y=m(" \n                        Shuffle"),la=h(),sa=f("a"),d(ga.$$.fragment),ta=m(" \n                        Add to queue"),na=h(),this.h()},l(a){l=p(a,"DIV",{class:!0});var t=v(l);s=p(t,"DIV",{class:!0});var e=v(s);c=p(e,"A",{class:!0,href:!0});var r=v(c);n=$(r,oa),r.forEach(u),P=g(e),V=p(e,"DIV",{class:!0});var o=v(V);ia.block.l(o),o.forEach(u),A=g(e),C=p(e,"DIV",{class:!0});var i=v(C);O=p(i,"DIV",{class:!0});var f=v(O);B=p(f,"DIV",{class:!0});var h=v(B);b(ua.$$.fragment,h),h.forEach(u),S=g(f),U=p(f,"DIV",{class:!0,id:!0,role:!0});var m=v(U);L=p(m,"DIV",{class:!0});var d=v(L);j=p(d,"A",{href:!0,class:!0});var k=v(j);b(ha.$$.fragment,k),R=$(k," \n                        Play"),k.forEach(u),Q=g(d),W=p(d,"A",{href:!0,class:!0});var E=v(W);b(va.$$.fragment,E),Y=$(E," \n                        Shuffle"),E.forEach(u),la=g(d),sa=p(d,"A",{href:!0,class:!0});var y=v(sa);b(ga.$$.fragment,y),ta=$(y," \n                        Add to queue"),y.forEach(u),d.forEach(u),m.forEach(u),f.forEach(u),i.forEach(u),e.forEach(u),na=g(t),t.forEach(u),this.h()},h(){k(c,"class","column"),k(c,"href",x="playlists/"+a[8].slug),k(V,"class","column is-narrow"),k(B,"class","dropdown-trigger"),k(j,"href",K=null),k(j,"class","dropdown-item"),k(W,"href",aa=null),k(W,"class","dropdown-item"),k(sa,"href",ca=null),k(sa,"class","dropdown-item"),k(L,"class","dropdown-content"),k(U,"class","dropdown-menu"),k(U,"id","dropdown-menu"),k(U,"role","menu"),k(O,"class","dropdown is-right is-up"),E(O,"is-active",a[8].visibility),k(C,"class","column is-narrow"),k(s,"class","columns is-mobile"),k(l,"class","list-item")},m(t,r,o){e(t,l,r),y(l,s),y(s,c),y(c,n),y(s,P),y(s,V),ia.block.m(V,ia.anchor=null),ia.mount=(()=>V),ia.anchor=null,y(s,A),y(s,C),y(C,O),y(O,B),w(ua,B,null),y(O,S),y(O,U),y(U,L),y(L,j),w(ha,j,null),y(j,R),y(L,Q),y(L,W),w(va,W,null),y(W,Y),y(L,la),y(L,sa),w(ga,sa,null),y(sa,ta),y(l,na),ea=!0,o&&D(ra),ra=[I(B,"click",fa),I(j,"click",function(){q(H(a[8].uri))&&H(a[8].uri).apply(this,arguments)}),I(W,"click",function(){q(F(a[8].uri))&&F(a[8].uri).apply(this,arguments)}),I(sa,"click",function(){q(G(a[8].uri))&&G(a[8].uri).apply(this,arguments)})]},p(l,s){if(a=l,(!ea||4&s)&&oa!==(oa=a[8].name+"")&&M(n,oa),(!ea||4&s&&x!==(x="playlists/"+a[8].slug))&&k(c,"href",x),ia.ctx=a,4&s&&T!==(T=J(a[8].uri))&&r(T,ia));else{const l=a.slice();l[11]=ia.resolved,ia.block.p(l,s)}4&s&&E(O,"is-active",a[8].visibility)},i(a){ea||(o(ua.$$.fragment,a),o(ha.$$.fragment,a),o(va.$$.fragment,a),o(ga.$$.fragment,a),ea=!0)},o(a){i(ua.$$.fragment,a),i(ha.$$.fragment,a),i(va.$$.fragment,a),i(ga.$$.fragment,a),ea=!1},d(a){a&&u(l),ia.block.d(),ia.token=null,ia=null,N(ua),N(ha),N(va),N(ga),D(ra)}}}function ga(a){let l,s,c;const n=new t({props:{icon:U,class:"icon is-24",spin:!0}});return{c(){l=f("p"),d(n.$$.fragment),s=m("\n        Loading playlists .."),this.h()},l(a){l=p(a,"P",{class:!0});var t=v(l);b(n.$$.fragment,t),s=$(t,"\n        Loading playlists .."),t.forEach(u),this.h()},h(){k(l,"class","list-item")},m(a,t){e(a,l,t),w(n,l,null),y(l,s),c=!0},p:S,i(a){c||(o(n.$$.fragment,a),c=!0)},o(a){i(n.$$.fragment,a),c=!1},d(a){a&&u(l),N(n)}}}function $a(a){let l,s,c,n,r,E,x,D,T,A,C,O,B;const M=new t({props:{icon:j,class:"icon"}}),S=new ra({props:{showCreatePlaylistModal:a[1]}});let U=a[0]&&ia(a);return{c(){l=f("div"),s=f("div"),c=f("h1"),n=m("Playlists"),r=h(),E=f("div"),x=f("a"),d(M.$$.fragment),T=h(),d(S.$$.fragment),A=h(),C=f("div"),U&&U.c(),this.h()},l(a){l=p(a,"DIV",{class:!0});var t=v(l);s=p(t,"DIV",{class:!0});var e=v(s);c=p(e,"H1",{class:!0});var o=v(c);n=$(o,"Playlists"),o.forEach(u),e.forEach(u),r=g(t),E=p(t,"DIV",{class:!0});var i=v(E);x=p(i,"A",{class:!0,href:!0});var f=v(x);b(M.$$.fragment,f),f.forEach(u),i.forEach(u),t.forEach(u),T=g(a),b(S.$$.fragment,a),A=g(a),C=p(a,"DIV",{class:!0});var h=v(C);U&&U.l(h),h.forEach(u),this.h()},h(){k(c,"class","title"),k(s,"class","column"),k(x,"class","button"),k(x,"href",D=null),k(E,"class","column is-narrow"),k(l,"class","columns is-mobile"),k(C,"class","list is-hoverable")},m(t,o,i){e(t,l,o),y(l,s),y(s,c),y(c,n),y(l,r),y(l,E),y(E,x),w(M,x,null),e(t,T,o),w(S,t,o),e(t,A,o),e(t,C,o),U&&U.m(C,null),O=!0,i&&B(),B=I(x,"click",a[4])},p(a,[l]){const s={};2&l&&(s.showCreatePlaylistModal=a[1]),S.$set(s),a[0]?U?(U.p(a,l),o(U,1)):((U=ia(a)).c(),o(U,1),U.m(C,null)):U&&(P(),i(U,1,1,()=>{U=null}),V())},i(a){O||(o(M.$$.fragment,a),o(S.$$.fragment,a),o(U),O=!0)},o(a){i(M.$$.fragment,a),i(S.$$.fragment,a),i(U),O=!1},d(a){a&&u(l),N(M),a&&u(T),N(S,a),a&&u(A),a&&u(C),U&&U.d(),B()}}}function ba(a,l,s){let t,c;T(a,W,a=>s(2,t=a));let n=!1;C(async()=>{s(0,c=e())});const e=async()=>{O(W,t=await Q())};return[c,n,t,e,()=>s(1,n=!n),a=>O(W,a.visibility=!a.visibility,t)]}export default class extends a{constructor(a){super(),l(this,a,ba,$a,s,{})}}
