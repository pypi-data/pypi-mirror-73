import{S as a,a as l,s,P as n,a7 as t,e as r,t as c,c as e,d as o,l as i,g as u,h as f,j as h,k as d,m,b as p,f as g,af as $,O as v,A as w,B as E,G as k,u as b,v as y,w as A,x as I,r as D,o as V,U as T,D as x,C as P,ag as S,J as N,a4 as _,ak as O,K as B,X as M,a8 as U,aj as j,N as q,a9 as L,ab as R,i as C,aa as H,aL as F,H as J,n as K,R as z,ah as G,an as X,_ as Z,$ as Q,aq as W,ar as Y,aK as aa,aJ as la,aM as sa,z as na,E as ta,F as ra,I as ca,V as ea,at as oa,Z as ia}from"./client.ddd82919.js";import{f as ua}from"./index.a9e48337.js";function fa(a,l,s){const n=a.slice();return n[11]=l[s],n[13]=s,n}function ha(a){let l,s,n,t,p=a[1].name+"";return{c(){l=r("label"),s=c("Add "),n=c(p),t=c(" to a playlist"),this.h()},l(a){l=e(a,"LABEL",{class:!0});var r=o(l);s=i(r,"Add "),n=i(r,p),t=i(r," to a playlist"),r.forEach(u),this.h()},h(){f(l,"class","label")},m(a,r){h(a,l,r),d(l,s),d(l,n),d(l,t)},p(a,l){2&l&&p!==(p=a[1].name+"")&&m(n,p)},d(a){a&&u(l)}}}function da(a){let l,s=a[15].message+"";return{c(){l=c(s)},l(a){l=i(a,s)},m(a,s){h(a,l,s)},p(a,n){8&n&&s!==(s=a[15].message+"")&&m(l,s)},i:q,o:q,d(a){a&&u(l)}}}function ma(a){let l,s,t,$,v,k,A,D,T,x,S=(a[14].tracks?a[14].tracks.length:"0")+"";const N=new n({props:{icon:R,class:"icon"}});return{c(){l=r("div"),s=c("("),t=c(S),$=c(")"),v=p(),k=r("div"),A=r("a"),b(N.$$.fragment),this.h()},l(a){l=e(a,"DIV",{class:!0});var n=o(l);s=i(n,"("),t=i(n,S),$=i(n,")"),n.forEach(u),v=g(a),k=e(a,"DIV",{class:!0});var r=o(k);A=e(r,"A",{href:!0});var c=o(A);y(N.$$.fragment,c),c.forEach(u),r.forEach(u),this.h()},h(){f(l,"class","column is-narrow"),f(A,"href",D=null),f(k,"class","column is-narrow")},m(n,r,c){h(n,l,r),d(l,s),d(l,t),d(l,$),h(n,v,r),h(n,k,r),d(k,A),I(N,A,null),T=!0,c&&x(),x=V(A,"click",function(){C(a[4](a[14]))&&a[4](a[14]).apply(this,arguments)})},p(l,s){a=l,(!T||8&s)&&S!==(S=(a[14].tracks?a[14].tracks.length:"0")+"")&&m(t,S)},i(a){T||(w(N.$$.fragment,a),T=!0)},o(a){E(N.$$.fragment,a),T=!1},d(a){a&&u(l),a&&u(v),a&&u(k),P(N),x()}}}function pa(a){let l;return{c(){l=c("loading..")},l(a){l=i(a,"loading..")},m(a,s){h(a,l,s)},p:q,i:q,o:q,d(a){a&&u(l)}}}function ga(a){let l,s,n,t,k,b,y,A,I=a[11].name+"",D={ctx:a,current:null,token:null,pending:pa,then:ma,catch:da,value:14,error:15,blocks:[,,,]};return v(b=$(a[11].uri),D),{c(){l=r("div"),s=r("div"),n=r("div"),t=c(I),k=p(),D.block.c(),y=p(),this.h()},l(a){l=e(a,"DIV",{class:!0});var r=o(l);s=e(r,"DIV",{class:!0});var c=o(s);n=e(c,"DIV",{class:!0});var f=o(n);t=i(f,I),f.forEach(u),k=g(c),D.block.l(c),c.forEach(u),y=g(r),r.forEach(u),this.h()},h(){f(n,"class","column"),f(s,"class","columns is-mobile"),f(l,"class","list-item")},m(a,r){h(a,l,r),d(l,s),d(s,n),d(n,t),d(s,k),D.block.m(s,D.anchor=null),D.mount=(()=>s),D.anchor=null,d(l,y),A=!0},p(l,s){if(a=l,(!A||8&s)&&I!==(I=a[11].name+"")&&m(t,I),D.ctx=a,8&s&&b!==(b=$(a[11].uri))&&v(b,D));else{const l=a.slice();l[14]=D.resolved,D.block.p(l,s)}},i(a){A||(w(D.block),A=!0)},o(a){for(let a=0;a<3;a+=1){const l=D.blocks[a];E(l)}A=!1},d(a){a&&u(l),D.block.d(),D.token=null,D=null}}}function $a(a){let l,s,n,t={ctx:a,current:null,token:null,pending:ba,then:wa,catch:va,value:10,blocks:[,,,]};return v(s=a[2],t),{c(){l=k(),t.block.c()},l(a){l=k(),t.block.l(a)},m(a,s){h(a,l,s),t.block.m(a,t.anchor=s),t.mount=(()=>l.parentNode),t.anchor=l,n=!0},p(l,n){if(a=l,t.ctx=a,4&n&&s!==(s=a[2])&&v(s,t));else{const l=a.slice();l[10]=t.resolved,t.block.p(l,n)}},i(a){n||(w(t.block),n=!0)},o(a){for(let a=0;a<3;a+=1){const l=t.blocks[a];E(l)}n=!1},d(a){a&&u(l),t.block.d(a),t.token=null,t=null}}}function va(a){return{c:q,l:q,m:q,p:q,i:q,o:q,d:q}}function wa(a){let l,s,n,t;const r=[ka,Ea],c=[];function e(a,l){return a[10]?0:1}return l=e(a),s=c[l]=r[l](a),{c(){s.c(),n=k()},l(a){s.l(a),n=k()},m(a,s){c[l].m(a,s),h(a,n,s),t=!0},p(a,t){let o=l;(l=e(a))===o?c[l].p(a,t):(T(),E(c[o],1,1,()=>{c[o]=null}),x(),(s=c[l])||(s=c[l]=r[l](a)).c(),w(s,1),s.m(n.parentNode,n))},i(a){t||(w(s),t=!0)},o(a){E(s),t=!1},d(a){c[l].d(a),a&&u(n)}}}function Ea(a){let l;return{c(){l=c("Error")},l(a){l=i(a,"Error")},m(a,s){h(a,l,s)},p:q,i:q,o:q,d(a){a&&u(l)}}}function ka(a){let l,s,t;const c=new n({props:{icon:H,class:"icon"}});return{c(){l=r("a"),b(c.$$.fragment),this.h()},l(a){l=e(a,"A",{class:!0,href:!0});var s=o(l);y(c.$$.fragment,s),s.forEach(u),this.h()},h(){f(l,"class","button svelte-5ggs80"),f(l,"href",s=null)},m(a,s){h(a,l,s),I(c,l,null),t=!0},p:q,i(a){t||(w(c.$$.fragment,a),t=!0)},o(a){E(c.$$.fragment,a),t=!1},d(a){a&&u(l),P(c)}}}function ba(a){let l,s,t,m,$,v;const k=new n({props:{icon:L,spin:!0,class:"icon"}});return{c(){l=r("a"),b(k.$$.fragment),t=p(),m=r("button"),$=c("Save changes"),this.h()},l(a){l=e(a,"A",{class:!0,href:!0});var s=o(l);y(k.$$.fragment,s),s.forEach(u),t=g(a),m=e(a,"BUTTON",{class:!0});var n=o(m);$=i(n,"Save changes"),n.forEach(u),this.h()},h(){f(l,"class","button svelte-5ggs80"),f(l,"href",s=null),f(m,"class","button is-success svelte-5ggs80")},m(a,s){h(a,l,s),I(k,l,null),h(a,t,s),h(a,m,s),d(m,$),v=!0},p:q,i(a){v||(w(k.$$.fragment,a),v=!0)},o(a){E(k.$$.fragment,a),v=!1},d(a){a&&u(l),P(k),a&&u(t),a&&u(m)}}}function ya(a){let l,s,m,$,v,k,N,_,O,B,M,U,j,q,L,R,C,H,F,J,K;const z=new n({props:{icon:t,class:"icon"}});let G=a[1]&&ha(a),X=a[3],Z=[];for(let l=0;l<X.length;l+=1)Z[l]=ga(fa(a,X,l));const Q=a=>E(Z[a],1,1,()=>{Z[a]=null});let W=a[2]&&$a(a);return{c(){l=r("div"),s=r("div"),m=p(),$=r("div"),v=r("header"),k=r("p"),N=c("Add to playlist"),_=p(),O=r("a"),b(z.$$.fragment),M=p(),U=r("section"),G&&G.c(),j=p(),q=r("div");for(let a=0;a<Z.length;a+=1)Z[a].c();L=c("\n       "),R=p(),C=r("footer"),W&&W.c(),H=p(),F=r("button"),this.h()},l(a){l=e(a,"DIV",{class:!0});var n=o(l);s=e(n,"DIV",{class:!0}),o(s).forEach(u),m=g(n),$=e(n,"DIV",{class:!0});var t=o($);v=e(t,"HEADER",{class:!0});var r=o(v);k=e(r,"P",{class:!0});var c=o(k);N=i(c,"Add to playlist"),c.forEach(u),_=g(r),O=e(r,"A",{href:!0,"aria-label":!0});var f=o(O);y(z.$$.fragment,f),f.forEach(u),r.forEach(u),M=g(t),U=e(t,"SECTION",{class:!0});var h=o(U);G&&G.l(h),j=g(h),q=e(h,"DIV",{class:!0});var d=o(q);for(let a=0;a<Z.length;a+=1)Z[a].l(d);d.forEach(u),L=i(h,"\n       "),h.forEach(u),R=g(t),C=e(t,"FOOTER",{class:!0});var p=o(C);W&&W.l(p),p.forEach(u),t.forEach(u),H=g(n),F=e(n,"BUTTON",{class:!0,"aria-label":!0}),o(F).forEach(u),n.forEach(u),this.h()},h(){f(s,"class","modal-background svelte-5ggs80"),f(k,"class","modal-card-title svelte-5ggs80"),f(O,"href",B=null),f(O,"aria-label","close"),f(v,"class","modal-card-head svelte-5ggs80"),f(q,"class","list is-hoverable"),f(U,"class","modal-card-body svelte-5ggs80"),f(C,"class","modal-card-foot svelte-5ggs80"),f($,"class","modal-card svelte-5ggs80"),f(F,"class","modal-close is-large svelte-5ggs80"),f(F,"aria-label","close"),f(l,"class","modal svelte-5ggs80"),A(l,"is-active",a[0])},m(n,t,r){h(n,l,t),d(l,s),d(l,m),d(l,$),d($,v),d(v,k),d(k,N),d(v,_),d(v,O),I(z,O,null),d($,M),d($,U),G&&G.m(U,null),d(U,j),d(U,q);for(let a=0;a<Z.length;a+=1)Z[a].m(q,null);d(U,L),d($,R),d($,C),W&&W.m(C,null),d(l,H),d(l,F),J=!0,r&&D(K),K=[V(s,"click",a[7]),V(O,"click",a[8]),V(F,"click",a[9])]},p(a,[s]){if(a[1]?G?G.p(a,s):((G=ha(a)).c(),G.m(U,j)):G&&(G.d(1),G=null),24&s){let l;for(X=a[3],l=0;l<X.length;l+=1){const n=fa(a,X,l);Z[l]?(Z[l].p(n,s),w(Z[l],1)):(Z[l]=ga(n),Z[l].c(),w(Z[l],1),Z[l].m(q,null))}for(T(),l=X.length;l<Z.length;l+=1)Q(l);x()}a[2]?W?(W.p(a,s),w(W,1)):((W=$a(a)).c(),w(W,1),W.m(C,null)):W&&(T(),E(W,1,1,()=>{W=null}),x()),1&s&&A(l,"is-active",a[0])},i(a){if(!J){w(z.$$.fragment,a);for(let a=0;a<X.length;a+=1)w(Z[a]);w(W),J=!0}},o(a){E(z.$$.fragment,a),Z=Z.filter(Boolean);for(let a=0;a<Z.length;a+=1)E(Z[a]);E(W),J=!1},d(a){a&&u(l),P(z),G&&G.d(),S(Z,a),W&&W.d(),D(K)}}}function Aa(a,l,s){let n,t;N(a,_,a=>s(5,n=a)),N(a,O,a=>s(3,t=a));let r,{showAddToPlaylistModal:c}=l,{track:e}=l;B(async()=>{M(_,n=await U()),M(O,t=await j())});const o=async a=>{return a.tracks?a.tracks.push(e):a.tracks=[e],!!await n.playlists.save({playlist:a})&&(M(O,t=await j()),!0)};return a.$set=(a=>{"showAddToPlaylistModal"in a&&s(0,c=a.showAddToPlaylistModal),"track"in a&&s(1,e=a.track)}),[c,e,r,t,a=>{s(2,r=o(a))},n,o,()=>s(0,c=!c),()=>s(0,c=!c),()=>s(0,c=!c)]}class Ia extends a{constructor(a){super(),l(this,a,Aa,ya,s,{showAddToPlaylistModal:0,track:1})}}function Da(a,l,s){const n=a.slice();return n[31]=l[s],n[33]=s,n}function Va(a,l,s){const n=a.slice();return n[36]=l[s],n}function Ta(a){let l;const s=new n({props:{icon:Z,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){b(s.$$.fragment)},l(a){y(s.$$.fragment,a)},m(a,n){I(s,a,n),l=!0},p:q,i(a){l||(w(s.$$.fragment,a),l=!0)},o(a){E(s.$$.fragment,a),l=!1},d(a){P(s,a)}}}function xa(a){let l;const s=new n({props:{icon:Q,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){b(s.$$.fragment)},l(a){y(s.$$.fragment,a)},m(a,n){I(s,a,n),l=!0},p:q,i(a){l||(w(s.$$.fragment,a),l=!0)},o(a){E(s.$$.fragment,a),l=!1},d(a){P(s,a)}}}function Pa(a){let l,s,n;return{c(){l=r("a"),s=c("loading\n              "),this.h()},l(a){l=e(a,"A",{href:!0,class:!0});var n=o(l);s=i(n,"loading\n              "),n.forEach(u),this.h()},h(){f(l,"href",n=null),f(l,"class","dropdown-item")},m(a,n){h(a,l,n),d(l,s)},d(a){a&&u(l)}}}function Sa(a){let l,s,n,t,$,v,w,E,k,b=a[36]+"";return{c(){l=r("a"),s=r("label"),n=r("input"),$=p(),v=c(b),w=p(),this.h()},l(a){l=e(a,"A",{href:!0,class:!0});var t=o(l);s=e(t,"LABEL",{class:!0});var r=o(s);n=e(r,"INPUT",{value:!0,type:!0,class:!0}),$=g(r),v=i(r,b),r.forEach(u),w=g(t),t.forEach(u),this.h()},h(){n.__value=t=a[36],n.value=n.__value,f(n,"type","checkbox"),f(n,"class","svelte-ywa9aa"),a[26][0].push(n),f(s,"class","checkbox svelte-ywa9aa"),f(l,"href",E=null),f(l,"class","dropdown-item")},m(t,r,c){h(t,l,r),d(l,s),d(s,n),n.checked=~a[1].indexOf(n.__value),d(s,$),d(s,v),d(l,w),c&&k(),k=V(n,"change",a[25])},p(a,l){4&l[0]&&t!==(t=a[36])&&(n.__value=t),n.value=n.__value,2&l[0]&&(n.checked=~a[1].indexOf(n.__value)),4&l[0]&&b!==(b=a[36]+"")&&m(v,b)},d(s){s&&u(l),a[26][0].splice(a[26][0].indexOf(n),1),k()}}}function Na(a){let l,s,t,m,$,v,k,S,N,_,O,B,M,U,j,q,L,R,H,F,J;const K=[Oa,_a],Z=[];function Q(a,l){return a[5]?0:1}m=Q(a),$=Z[m]=K[m](a);const W=new n({props:{icon:z,class:"icon is-small"}}),Y=new n({props:{icon:G,class:"icon is-small"}}),aa=new n({props:{icon:X,class:"icon is-small"}});return{c(){l=r("div"),s=r("div"),t=r("div"),$.c(),v=p(),k=r("div"),S=r("div"),N=r("a"),b(W.$$.fragment),_=c(" \n                  Play All"),B=p(),M=r("a"),b(Y.$$.fragment),U=c(" \n                  Shuffle & Play All"),q=p(),L=r("a"),b(aa.$$.fragment),R=c(" \n                  Add to queue"),this.h()},l(a){l=e(a,"DIV",{class:!0});var n=o(l);s=e(n,"DIV",{class:!0});var r=o(s);t=e(r,"DIV",{class:!0});var c=o(t);$.l(c),c.forEach(u),v=g(r),k=e(r,"DIV",{class:!0,id:!0,role:!0});var f=o(k);S=e(f,"DIV",{class:!0});var h=o(S);N=e(h,"A",{href:!0,class:!0});var d=o(N);y(W.$$.fragment,d),_=i(d," \n                  Play All"),d.forEach(u),B=g(h),M=e(h,"A",{href:!0,class:!0});var m=o(M);y(Y.$$.fragment,m),U=i(m," \n                  Shuffle & Play All"),m.forEach(u),q=g(h),L=e(h,"A",{href:!0,class:!0});var p=o(L);y(aa.$$.fragment,p),R=i(p," \n                  Add to queue"),p.forEach(u),h.forEach(u),f.forEach(u),r.forEach(u),n.forEach(u),this.h()},h(){f(t,"class","dropdown-trigger"),f(N,"href",O=null),f(N,"class","dropdown-item"),f(M,"href",j=null),f(M,"class","dropdown-item"),f(L,"href",H=null),f(L,"class","dropdown-item"),f(S,"class","dropdown-content"),f(k,"class","dropdown-menu"),f(k,"id","dropdown-menu"),f(k,"role","menu"),f(s,"class","dropdown is-right"),A(s,"is-active",a[5]),f(l,"class","column")},m(n,r,c){h(n,l,r),d(l,s),d(s,t),Z[m].m(t,null),d(s,v),d(s,k),d(k,S),d(S,N),I(W,N,null),d(N,_),d(S,B),d(S,M),I(Y,M,null),d(M,U),d(S,q),d(S,L),I(aa,L,null),d(L,R),F=!0,c&&D(J),J=[V(t,"click",a[27]),V(N,"click",function(){C(a[16](a[8]))&&a[16](a[8]).apply(this,arguments)}),V(M,"click",function(){C(a[19](a[8]))&&a[19](a[8]).apply(this,arguments)}),V(L,"click",function(){C(a[20](a[8]))&&a[20](a[8]).apply(this,arguments)})]},p(l,n){let r=m;(m=Q(a=l))===r?Z[m].p(a,n):(T(),E(Z[r],1,1,()=>{Z[r]=null}),x(),($=Z[m])||($=Z[m]=K[m](a)).c(),w($,1),$.m(t,null)),32&n[0]&&A(s,"is-active",a[5])},i(a){F||(w($),w(W.$$.fragment,a),w(Y.$$.fragment,a),w(aa.$$.fragment,a),F=!0)},o(a){E($),E(W.$$.fragment,a),E(Y.$$.fragment,a),E(aa.$$.fragment,a),F=!1},d(a){a&&u(l),Z[m].d(),P(W),P(Y),P(aa),D(J)}}}function _a(a){let l,s,t;const c=new n({props:{icon:Z,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){l=r("a"),b(c.$$.fragment),this.h()},l(a){l=e(a,"A",{href:!0,class:!0});var s=o(l);y(c.$$.fragment,s),s.forEach(u),this.h()},h(){f(l,"href",s=null),f(l,"class","button")},m(a,s){h(a,l,s),I(c,l,null),t=!0},p:q,i(a){t||(w(c.$$.fragment,a),t=!0)},o(a){E(c.$$.fragment,a),t=!1},d(a){a&&u(l),P(c)}}}function Oa(a){let l,s,t;const c=new n({props:{icon:Q,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){l=r("a"),b(c.$$.fragment),this.h()},l(a){l=e(a,"A",{href:!0,class:!0});var s=o(l);y(c.$$.fragment,s),s.forEach(u),this.h()},h(){f(l,"href",s=null),f(l,"class","button")},m(a,s){h(a,l,s),I(c,l,null),t=!0},p:q,i(a){t||(w(c.$$.fragment,a),t=!0)},o(a){E(c.$$.fragment,a),t=!1},d(a){a&&u(l),P(c)}}}function Ba(a){let l,s,n={ctx:a,current:null,token:null,pending:qa,then:ja,catch:Ua,value:34,error:35};return v(s=a[3],n),{c(){l=k(),n.block.c()},l(a){l=k(),n.block.l(a)},m(a,s){h(a,l,s),n.block.m(a,n.anchor=s),n.mount=(()=>l.parentNode),n.anchor=l},p(l,t){if(a=l,n.ctx=a,8&t[0]&&s!==(s=a[3])&&v(s,n));else{const l=a.slice();l[34]=n.resolved,n.block.p(l,t)}},i:q,o:q,d(a){a&&u(l),n.block.d(a),n.token=null,n=null}}}function Ma(a){let l,s,n=[],t=new Map,c=a[8];const i=a=>a[33];for(let l=0;l<c.length;l+=1){let s=Da(a,c,l),r=i(s);t.set(r,n[l]=Fa(r,s))}return{c(){l=r("div");for(let a=0;a<n.length;a+=1)n[a].c();this.h()},l(a){l=e(a,"DIV",{class:!0});var s=o(l);for(let a=0;a<n.length;a+=1)n[a].l(s);s.forEach(u),this.h()},h(){f(l,"class","list is-hoverable")},m(a,t){h(a,l,t);for(let a=0;a<n.length;a+=1)n[a].m(l,null);s=!0},p(a,s){if(516992&s[0]){const r=a[8];T();for(let a=0;a<n.length;a+=1)n[a].r();n=ca(n,s,i,1,a,r,t,l,ea,Fa,null,Da);for(let a=0;a<n.length;a+=1)n[a].a();x()}},i(a){if(!s){for(let a=0;a<c.length;a+=1)w(n[a]);s=!0}},o(a){for(let a=0;a<n.length;a+=1)E(n[a]);s=!1},d(a){a&&u(l);for(let a=0;a<n.length;a+=1)n[a].d()}}}function Ua(a){let l,s,n=a[35].message+"";return{c(){l=r("p"),s=c(n),this.h()},l(a){l=e(a,"P",{class:!0,style:!0});var t=o(l);s=i(t,n),t.forEach(u),this.h()},h(){f(l,"class","list-item"),ia(l,"color","red")},m(a,n){h(a,l,n),d(l,s)},p(a,l){8&l[0]&&n!==(n=a[35].message+"")&&m(s,n)},d(a){a&&u(l)}}}function ja(a){let l,s,n;return{c(){l=r("a"),s=c("no tracks found"),this.h()},l(a){l=e(a,"A",{class:!0,href:!0});var n=o(l);s=i(n,"no tracks found"),n.forEach(u),this.h()},h(){f(l,"class","list-item"),f(l,"href",n=null)},m(a,n){h(a,l,n),d(l,s)},p:q,d(a){a&&u(l)}}}function qa(a){let l,s;return{c(){l=r("p"),s=c("loading ..."),this.h()},l(a){l=e(a,"P",{class:!0});var n=o(l);s=i(n,"loading ..."),n.forEach(u),this.h()},h(){f(l,"class","list-item")},m(a,n){h(a,l,n),d(l,s)},p:q,d(a){a&&u(l)}}}function La(a){let l;return{c(){l=c("unknown artist")},l(a){l=i(a,"unknown artist")},m(a,s){h(a,l,s)},p:q,d(a){a&&u(l)}}}function Ra(a){let l,s,n,t=a[31].artists.map(Ka).join(", ")+"",r=a[31].name+"";return{c(){l=c(t),s=c(" - "),n=c(r)},l(a){l=i(a,t),s=i(a," - "),n=i(a,r)},m(a,t){h(a,l,t),h(a,s,t),h(a,n,t)},p(a,s){256&s[0]&&t!==(t=a[31].artists.map(Ka).join(", ")+"")&&m(l,t),256&s[0]&&r!==(r=a[31].name+"")&&m(n,r)},d(a){a&&u(l),a&&u(s),a&&u(n)}}}function Ca(a){let l;const s=new n({props:{icon:Z,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){b(s.$$.fragment)},l(a){y(s.$$.fragment,a)},m(a,n){I(s,a,n),l=!0},p:q,i(a){l||(w(s.$$.fragment,a),l=!0)},o(a){E(s.$$.fragment,a),l=!1},d(a){P(s,a)}}}function Ha(a){let l;const s=new n({props:{icon:Q,class:"icon","aria-haspopup":"true","aria-controls":"dropdown-menu"}});return{c(){b(s.$$.fragment)},l(a){y(s.$$.fragment,a)},m(a,n){I(s,a,n),l=!0},p:q,i(a){l||(w(s.$$.fragment,a),l=!0)},o(a){E(s.$$.fragment,a),l=!1},d(a){P(s,a)}}}function Fa(a,l){let s,t,m,$,v,k,S,N,_,O,B,M,U,j,L,H,F,J,K,G,Z,Q,W,Y,aa,la,sa,ca,ea,ia,fa,ha,da,ma=q;function pa(a,l){return a[31].artists?Ra:La}let ga=pa(l),$a=ga(l);const va=[Ha,Ca],wa=[];function Ea(a,l){return a[7]==a[33]+1?0:1}N=Ea(l),_=wa[N]=va[N](l);const ka=new n({props:{icon:z,class:"icon is-small"}}),ba=new n({props:{icon:oa,class:"icon is-small"}}),ya=new n({props:{icon:X,class:"icon is-small"}}),Aa=new n({props:{icon:R,class:"icon is-small"}});function Ia(...a){return l[28](l[33],...a)}function Da(...a){return l[30](l[33],...a)}return{key:a,first:null,c(){s=r("a"),t=r("div"),m=r("div"),$a.c(),$=p(),v=r("div"),k=r("div"),S=r("div"),_.c(),O=p(),B=r("div"),M=r("div"),U=r("a"),b(ka.$$.fragment),j=c(" \n                      Play now"),H=p(),F=r("a"),b(ba.$$.fragment),J=c(" \n                      Play next"),G=p(),Z=r("a"),b(ya.$$.fragment),Q=c(" \n                      Add to queue"),Y=p(),aa=r("a"),b(Aa.$$.fragment),la=c(" \n                      Add to a playlist"),ca=p(),this.h()},l(a){s=e(a,"A",{class:!0,href:!0,draggable:!0,ondragover:!0});var l=o(s);t=e(l,"DIV",{class:!0});var n=o(t);m=e(n,"DIV",{class:!0});var r=o(m);$a.l(r),r.forEach(u),$=g(n),v=e(n,"DIV",{class:!0});var c=o(v);k=e(c,"DIV",{class:!0});var f=o(k);S=e(f,"DIV",{class:!0});var h=o(S);_.l(h),h.forEach(u),O=g(f),B=e(f,"DIV",{class:!0,id:!0,role:!0});var d=o(B);M=e(d,"DIV",{class:!0});var p=o(M);U=e(p,"A",{href:!0,class:!0});var w=o(U);y(ka.$$.fragment,w),j=i(w," \n                      Play now"),w.forEach(u),H=g(p),F=e(p,"A",{href:!0,class:!0});var E=o(F);y(ba.$$.fragment,E),J=i(E," \n                      Play next"),E.forEach(u),G=g(p),Z=e(p,"A",{href:!0,class:!0});var b=o(Z);y(ya.$$.fragment,b),Q=i(b," \n                      Add to queue"),b.forEach(u),Y=g(p),aa=e(p,"A",{href:!0,class:!0});var A=o(aa);y(Aa.$$.fragment,A),la=i(A," \n                      Add to a playlist"),A.forEach(u),p.forEach(u),d.forEach(u),f.forEach(u),c.forEach(u),n.forEach(u),ca=g(l),l.forEach(u),this.h()},h(){f(m,"class","column"),f(S,"class","dropdown-trigger"),f(U,"href",L=null),f(U,"class","dropdown-item"),f(F,"href",K=null),f(F,"class","dropdown-item"),f(Z,"href",W=null),f(Z,"class","dropdown-item"),f(aa,"href",sa=null),f(aa,"class","dropdown-item"),f(M,"class","dropdown-content"),f(B,"class","dropdown-menu"),f(B,"id","dropdown-menu"),f(B,"role","menu"),f(k,"class","dropdown is-right is-up"),A(k,"is-active",l[7]==l[33]+1),f(v,"class","column is-narrow"),f(t,"class","columns is-mobile"),f(s,"class","list-item"),f(s,"href",ea=null),f(s,"draggable",ia=!0),f(s,"ondragover","return false"),A(s,"is-active",l[9]===l[33]),this.first=s},m(a,n,r){h(a,s,n),d(s,t),d(t,m),$a.m(m,null),d(t,$),d(t,v),d(v,k),d(k,S),wa[N].m(S,null),d(k,O),d(k,B),d(B,M),d(M,U),I(ka,U,null),d(U,j),d(M,H),d(M,F),I(ba,F,null),d(F,J),d(M,G),d(M,Z),I(ya,Z,null),d(Z,Q),d(M,Y),d(M,aa),I(Aa,aa,null),d(aa,la),d(s,ca),ha=!0,r&&D(da),da=[V(U,"click",function(){C(l[16](l[31].uri))&&l[16](l[31].uri).apply(this,arguments)}),V(F,"click",function(){C(l[17](l[31].uri))&&l[17](l[31].uri).apply(this,arguments)}),V(Z,"click",function(){C(l[18](l[31].uri))&&l[18](l[31].uri).apply(this,arguments)}),V(aa,"click",function(){C(l[13](l[31]))&&l[13](l[31]).apply(this,arguments)}),V(t,"click",function(){C(l[14](l[33]+1))&&l[14](l[33]+1).apply(this,arguments)}),V(s,"dragstart",Ia),V(s,"drop",na(l[29])),V(s,"dragenter",Da)]},p(a,n){ga===(ga=pa(l=a))&&$a?$a.p(l,n):($a.d(1),($a=ga(l))&&($a.c(),$a.m(m,null)));let t=N;(N=Ea(l))===t?wa[N].p(l,n):(T(),E(wa[t],1,1,()=>{wa[t]=null}),x(),(_=wa[N])||(_=wa[N]=va[N](l)).c(),w(_,1),_.m(S,null)),384&n[0]&&A(k,"is-active",l[7]==l[33]+1),768&n[0]&&A(s,"is-active",l[9]===l[33])},r(){fa=s.getBoundingClientRect()},f(){ta(s),ma()},a(){ma(),ma=ra(s,fa,ua,{duration:300})},i(a){ha||(w(_),w(ka.$$.fragment,a),w(ba.$$.fragment,a),w(ya.$$.fragment,a),w(Aa.$$.fragment,a),ha=!0)},o(a){E(_),E(ka.$$.fragment,a),E(ba.$$.fragment,a),E(ya.$$.fragment,a),E(Aa.$$.fragment,a),ha=!1},d(a){a&&u(s),$a.d(),wa[N].d(),P(ka),P(ba),P(ya),P(Aa),D(da)}}}function Ja(a){let l,s,t,m,$,v,N,_,O,B,M,U,j,q,L,R,C,H,z,G,X,Z,Q,W,Y,aa,la,sa,na,ta,ra,ca,ea;const oa=[xa,Ta],ia=[];function ua(a,l){return a[0]?0:1}H=ua(a),z=ia[H]=oa[H](a);let fa=a[2],ha=[];for(let l=0;l<fa.length;l+=1)ha[l]=Sa(Va(a,fa,l));let da=null;fa.length||(da=Pa());const ma=new n({props:{icon:F,class:"icon"}});let pa=a[8].length>0&&Na(a);const ga=new Ia({props:{showAddToPlaylistModal:a[4],track:a[6]}}),$a=[Ma,Ba],va=[];function wa(a,l){return a[8].length>0?0:a[3]?1:-1}return~(na=wa(a))&&(ta=va[na]=$a[na](a)),{c(){l=p(),s=r("h1"),t=c("Search"),m=p(),$=r("div"),v=r("div"),N=r("input"),_=p(),O=r("div"),B=r("div"),M=r("div"),U=r("div"),j=r("div"),q=r("button"),L=r("span"),R=c("Sources"),C=p(),z.c(),G=p(),X=r("div"),Z=r("div");for(let a=0;a<ha.length;a+=1)ha[a].c();da&&da.c(),Q=p(),W=r("div"),Y=r("button"),b(ma.$$.fragment),aa=p(),pa&&pa.c(),la=p(),b(ga.$$.fragment),sa=p(),ta&&ta.c(),ra=k(),this.h()},l(a){J('[data-svelte="svelte-3s7lyl"]',document.head).forEach(u),l=g(a),s=e(a,"H1",{class:!0});var n=o(s);t=i(n,"Search"),n.forEach(u),m=g(a),$=e(a,"DIV",{class:!0});var r=o($);v=e(r,"DIV",{class:!0});var c=o(v);N=e(c,"INPUT",{class:!0,type:!0,placeholder:!0}),c.forEach(u),_=g(r),O=e(r,"DIV",{class:!0});var f=o(O);B=e(f,"DIV",{class:!0});var h=o(B);M=e(h,"DIV",{class:!0});var d=o(M);U=e(d,"DIV",{class:!0});var p=o(U);j=e(p,"DIV",{class:!0});var w=o(j);q=e(w,"BUTTON",{class:!0,"aria-haspopup":!0,"aria-controls":!0});var E=o(q);L=e(E,"SPAN",{});var b=o(L);R=i(b,"Sources"),b.forEach(u),C=g(E),z.l(E),E.forEach(u),w.forEach(u),G=g(p),X=e(p,"DIV",{class:!0,id:!0,role:!0});var A=o(X);Z=e(A,"DIV",{class:!0});var I=o(Z);for(let a=0;a<ha.length;a+=1)ha[a].l(I);da&&da.l(I),I.forEach(u),A.forEach(u),p.forEach(u),d.forEach(u),Q=g(h),W=e(h,"DIV",{class:!0});var D=o(W);Y=e(D,"BUTTON",{class:!0});var V=o(Y);y(ma.$$.fragment,V),V.forEach(u),D.forEach(u),aa=g(h),pa&&pa.l(h),h.forEach(u),f.forEach(u),r.forEach(u),la=g(a),y(ga.$$.fragment,a),sa=g(a),ta&&ta.l(a),ra=k(),this.h()},h(){document.title="Search",f(s,"class","title"),f(N,"class","input is-rounded svelte-ywa9aa"),f(N,"type","text"),f(N,"placeholder","Search for music"),f(v,"class","column"),f(q,"class","button is-link"),f(q,"aria-haspopup","true"),f(q,"aria-controls","dropdown-menu-sources"),f(j,"class","dropdown-trigger"),f(Z,"class","dropdown-content"),f(X,"class","dropdown-menu"),f(X,"id","dropdown-menu-sources"),f(X,"role","menu"),f(U,"class","dropdown"),A(U,"is-active",a[0]),f(M,"class","column"),f(Y,"class","button"),f(W,"class","column"),f(B,"class","columns is-mobile"),f(O,"class","column is-narrow"),f($,"class","columns")},m(n,r,c){h(n,l,r),h(n,s,r),d(s,t),h(n,m,r),h(n,$,r),d($,v),d(v,N),K(N,a[10]),d($,_),d($,O),d(O,B),d(B,M),d(M,U),d(U,j),d(j,q),d(q,L),d(L,R),d(q,C),ia[H].m(q,null),d(U,G),d(U,X),d(X,Z);for(let a=0;a<ha.length;a+=1)ha[a].m(Z,null);da&&da.m(Z,null),d(B,Q),d(B,W),d(W,Y),I(ma,Y,null),d(B,aa),pa&&pa.m(B,null),h(n,la,r),I(ga,n,r),h(n,sa,r),~na&&va[na].m(n,r),h(n,ra,r),ca=!0,c&&D(ea),ea=[V(N,"keydown",a[12]),V(N,"input",a[23]),V(j,"click",a[24]),V(Y,"click",a[11])]},p(a,l){1024&l[0]&&N.value!==a[10]&&K(N,a[10]);let s=H;if((H=ua(a))===s?ia[H].p(a,l):(T(),E(ia[s],1,1,()=>{ia[s]=null}),x(),(z=ia[H])||(z=ia[H]=oa[H](a)).c(),w(z,1),z.m(q,null)),6&l[0]){let s;for(fa=a[2],s=0;s<fa.length;s+=1){const n=Va(a,fa,s);ha[s]?ha[s].p(n,l):(ha[s]=Sa(n),ha[s].c(),ha[s].m(Z,null))}for(;s<ha.length;s+=1)ha[s].d(1);ha.length=fa.length,fa.length?da&&(da.d(1),da=null):da||((da=Pa()).c(),da.m(Z,null))}1&l[0]&&A(U,"is-active",a[0]),a[8].length>0?pa?(pa.p(a,l),w(pa,1)):((pa=Na(a)).c(),w(pa,1),pa.m(B,null)):pa&&(T(),E(pa,1,1,()=>{pa=null}),x());const n={};16&l[0]&&(n.showAddToPlaylistModal=a[4]),64&l[0]&&(n.track=a[6]),ga.$set(n);let t=na;(na=wa(a))===t?~na&&va[na].p(a,l):(ta&&(T(),E(va[t],1,1,()=>{va[t]=null}),x()),~na?((ta=va[na])||(ta=va[na]=$a[na](a)).c(),w(ta,1),ta.m(ra.parentNode,ra)):ta=null)},i(a){ca||(w(z),w(ma.$$.fragment,a),w(pa),w(ga.$$.fragment,a),w(ta),ca=!0)},o(a){E(z),E(ma.$$.fragment,a),E(pa),E(ga.$$.fragment,a),E(ta),ca=!1},d(a){a&&u(l),a&&u(s),a&&u(m),a&&u($),ia[H].d(),S(ha,a),da&&da.d(),P(ma),pa&&pa.d(),a&&u(la),P(ga,a),a&&u(sa),~na&&va[na].d(a),a&&u(ra),D(ea)}}}const Ka=a=>a.name;function za(a,l,s){let n;N(a,_,a=>s(21,n=a));let t,r,c,e=!1,o=["local"],i=["http","https","mms","rtmp","rtmps","rtsp","file"],u=[],f=!1,h=!1,d=[],m=!1,p="";B(async()=>{M(_,n=await U());const a=await n.getUriSchemes();a&&s(2,u=a.filter(a=>-1===i.indexOf(a)))});const g=async()=>{s(8,d=[]);const a=o.map(a=>a+":"),l=await n.library.search({query:{any:[p]},uris:[`${a}`]});if(l&&l.length>0){let{tracks:a}=l.pop();return a&&s(8,d=a),!0}};function $(a){a.dataTransfer.dropEffect="move",s(9,m=null)}const v=[[]];return[e,o,u,t,f,h,r,c,d,m,p,g,function(a){13===a.which&&s(3,t=g())},a=>{s(6,r=a),s(4,f=!f)},a=>{s(7,c=c===a?null:a)},$,a=>{W(a),s(7,c=null)},a=>{Y(a),s(7,c=null)},a=>{aa(a),s(7,c=null)},a=>{la(a),s(5,h=!h)},a=>{aa(a),s(5,h=!h)},n,i,function(){p=this.value,s(10,p)},()=>s(0,e=!e),function(){o=sa(v[0]),s(1,o)},v,()=>s(5,h=!h),(a,l)=>(function(a,l){a.dataTransfer.effectAllowed="move",a.dataTransfer.dropEffect="move";const s=l;a.dataTransfer.setData("text/plain",s)})(l,a),a=>$(a),a=>s(9,m=a)]}export default class extends a{constructor(a){super(),l(this,a,za,Ja,s,{},[-1,-1])}}
