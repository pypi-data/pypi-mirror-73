#!/usr/bin/env python
# -*- coding: utf-8 -*-
from __future__ import unicode_literals

import sys
from argparse import ArgumentParser
from six import ensure_str
from russian_numerals import prepare, HANDLERS


if __name__ == '__main__':
    """Запуск обработчиков из консоли."""

    parser = ArgumentParser(description=(
        'Преобразование чисел в количественные числительные и обратно.'))
    parser.add_argument('value', help=(
        'Строка текста с числительными или любое число.'))
    parser.add_argument('--handler', default='', help=(
        'Название обработчика текста из списка: %s'
    ) % ','.join(HANDLERS.keys()))
    args = parser.parse_args()
    result = prepare(**vars(args))
    sys.stdout.write(ensure_str(result + '\n'))
    sys.exit(0)
